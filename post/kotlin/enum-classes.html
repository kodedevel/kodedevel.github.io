---
layout: default
---

<article>
  <nav class="toc">
    <div>دسترسی سریع</div>
    <ul>
      <li>
        <a href="#p0">توضیحات</a>
      </li>
      <li>
        <a href="#p1">بررسی و ویژگی کلاس های enum</a>
      </li>
      <li>
        <a href="#p2">خلاصه</a>
      </li>
    </ul>
  </nav>

  <section id="p0">
    <h2>توضیحات</h2>

    <p>
      از کلاس های enum برای نگهداری تعداد متناهی از آبجکت های ثابت استفاده می
      کنیم.
    </p>
    <p>
      معمولا enum رو زمانی تعریف میکنیم که تو برنامه چندتا وضعیت مشخص داریم.
    </p>
    <p>
      هرکدوم از آبجکت هایی که داخل این کلاس ها ایجاد می کنیم گویای وضعیت بخصوصی
      در برنامه یا قسمتی از برنامه هستند و تمام وضعیت های موجود مورد نظر رو داخل
      کلاس enum به صورت آبجکت های ثابت بیان می کنیم.
    </p>

    <p>فرم کلی این کلاس ها به صورت زیر است</p>

    <div class="sample">
      <div class="snippet-container">
        <pre class="snippet Kotlin">
enum class Status{
    Object0, Object1, Object2, ... , ObjectN;
}
                        </pre
        >
      </div>
    </div>

    <p>در بالا Object0 تا ObjectN داخل Status نمونه ای از کلاس Status هستند.</p>
  </section>

  <section id="p1">
    <h2>بررسی و ویژگی کلاس های enum</h2>

    <p>
      همینطور که گفتیم بعد از تعریف کلاس enum میتونیم یک یا چند آبجکت ثابت داخلش
      تعریف کنیم و هرکدوم گویای وضعیت خاصی از برنامه میتونن باشن.
    </p>
    <p>
      مقادیر آبجکت ها ثابت و غیرقابل تغییر هستند برای همین بهشون آبجکت های ثابت
      کلاس enum میگیم.
    </p>

    <p>
      در زیر یک کلاس enum ایجاد کردیم و سه آبجکت داخلش تعریف کردیم برای داشتن سه
      وضعیت خاموش، روشن و استندبای
    </p>

    <div class="sample">
      <div class="snippet-container">
        <pre class="snippet Kotlin">
fun main(){
    println(PowerStatus.STANDBY)
    println(PowerStatus.ON)
    println(PowerStatus.OFF)
}

enum class PowerStatus{
    ON, OFF, STANDBY
}
                        </pre
        >
      </div>
    </div>

    <p>
      کلاس enum به طور پیشفرض دارای پراپرتی entries است این پراپرتی از نوع
      EnumEntries است و مانند
      <a class="text-decoration-none" href="arrays.html">آرایه</a> یا لیست تمام
      آبجکت های تعریف شده برای enum رو نگهداری میکنه:
    </p>

    <div class="sample">
      <div class="snippet-container">
        <pre class="snippet Kotlin">
fun main(){
    val entries = PowerStatus.entries
    for(status in entries) println(status)
}
enum class PowerStatus{
    ON, OFF, STANDBY
}
                        </pre
        >
      </div>
    </div>

    <div class="note">
      <p class="note-head">توجه</p>
      <p>
        در کلاس های enum یک تابع پیشفرض نیز وجود داره به اسم values، این تابع
        کاربرد مشابه پراپرتی entries داره اما استفاده ازش توصیه نمیشه چون با هر
        بار صدا زدن تابع یک نمونه ی جدید از کلاس arrays ایجاد میشه و این کار
        کیفیت برنامه رو پایین میاره.
      </p>
    </div>

    <p>
      با تابع valueOf(String) کلاس enum میتونیم آبجکت مورد نظر رو بر اساس اسمش
      پیدا کنیم:
    </p>

    <div class="sample">
      <div class="snippet-container">
        <pre class="snippet Kotlin">
fun main(){
    println(PowerStatus.valueOf("ON")
}
                        </pre
        >
      </div>
    </div>

    <div class="note">
      <p class="note-head">توجه</p>
      <p>
        در صورت نبود آبجکت هم نام با استرینگ تابع valueOf برنامه دچار
        illegalArgumentException میشه.
      </p>
    </div>

    <p>آبجکت های enum به طور پیشفرض دارای دو پراپرتی name و ordinary هستند</p>
    <p>
      پراپرتی name اسم آبجکت رو به صورت String بر میگردونه و پراپرتی ordinary
      شماره جایگاه آبجکت در کلاس رو به صورت integer
    </p>

    <div class="sample">
      <div class="snippet-container">
        <pre class="snippet Kotlin">
fun main(){
    var currentStatus = PowerStatus.STANDBY
    println(currentStatus.name)
    println(currentStatus.ordinary)
}

enum class PowerStatus{
    ON, OFF, STANDBY
}
                        </pre
        >
      </div>
    </div>

    <p>
      در کانستراکتور کلاس های enum میتونیم مثل بقیه ی کلاس ها پراپرتی تعریف
      کنیم، این پراپرتی ها باید هنگام تعریف آبجکت های ثابت مقداردهی بشن
    </p>

    <div class="sample">
      <div class="snippet-container">
        <pre class="snippet Kotlin">
fun main(){
    var currentStatus = PowerStatus.ON

    when(currentStatus.statusCode){
        0 -&gt; println("The device is off")
        1 -&gt; println("The device is in standby mode")
        2 -&gt; println("The device is on")
    }
}

enum class PowerStatus(val statusCode: Int){
    ON(2), OFF(0), STANDBY(1)
}
                        </pre
        >
      </div>
    </div>

    <p>داخل کلاس های enum میتونیم تابع و پراپرتی های ابسترکت نیز تعریف کنیم:</p>

    <div class="sample">
      <div class="snippet-container">
        <pre class="snippet Kotlin">
fun main() {

    var currentDevicePowerStatus = PowerStatus.OFF

    println("The current power status is: ${currentDevicePowerStatus.name}")

    val input = Scanner(System.`in`)
    val result: String

    if (currentDevicePowerStatus.statusCode == PowerStatus.OFF.statusCode) {

        println("Do u wanna turn the device on? (yes/no)")
        result = input.next()

        if (result == "yes") {
        println("Turning device on")
        currentDevicePowerStatus = currentDevicePowerStatus.updateStatus(PowerStatus.ON.statusCode)
        }
    }

    println("The current power status is: ${currentDevicePowerStatus.name}")

}

enum class PowerStatus(val statusCode: Int){

    ON(2){
        override fun updateStatus(statusCode: Int): PowerStatus {
            return when(statusCode) {
                0 -&gt; OFF
                1 -&gt; STANDBY
                else -&gt; ON
            }
        }
    }, OFF(0){
        override fun updateStatus(statusCode: Int): PowerStatus {
            return when(statusCode){
                2 -&gt; ON
                else -&gt; OFF
            }
        }
    }, STANDBY(1){
        override fun updateStatus(statusCode: Int): PowerStatus {
            return when(statusCode){
                2 -&gt; ON
                else -&gt; STANDBY
            }
        }
    };

    abstract fun updateStatus(statusCode: Int): PowerStatus
}
                        </pre
        >
      </div>
    </div>

    <p>
      میتونیم
      <a class="text-decoration-none" href="interfaces.html">اینترفیس ها</a> رو
      داخل کلاس enum پیاده‌سازی کنیم و کلاس های enum به طور پیشفرض اینترفیس
      Comparable&lt;T&gt; رو پیاده‌سازی کردن.
    </p>

    <div class="note">
      <p class="note-head">نکته</p>
      <p>نمیتونیم از کلاس های دیگه توسط کلاس enum ارث ببریم.</p>
    </div>
  </section>

  <section id="p2">
    <h2>خلاصه</h2>
    <ul>
      <li>کلاس های enum مجموعه ی متناهی از آبجکت های ثابت هستند.</li>
      <li>
        از این کلاس ها برای تعیین کردن وضعیت به خصوصی در برنامه استفاده میکنیم.
      </li>
      <li>برای هر وضعیت یک آبجکت تعریف میکنیم.</li>
      <li>میتونیم اینترفیس ها رو در کلاس enum پیاده‌سازی کنیم</li>
      <li>نمیتونیم از کلاس های دیگه توسط کلاس enum ارث ببریم.</li>
    </ul>
  </section>
</article>

{% capture links %}
<li>
  <a href="/post/kotlin/objects-and-classes.html">آبجکت و کلاس ها در کاتلین</a>
</li>
<li>
  <a href="/post/kotlin/inheritance.html">وراثت در کاتلین</a>
</li>
<li>
  <a href="/post/kotlin/interfaces.html">اینترفیس ها در کاتلین</a>
</li>
<li>
  <a href="/post/kotlin/functions.html">مطالعه در وبسایت رسمی</a>
</li>
{% endcapture %} {% include article-foot.html relative_links = links %}
