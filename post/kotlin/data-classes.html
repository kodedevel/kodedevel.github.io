---
layout: default
---

<article>
  <nav class="toc">
    <div>دسترسی سریع</div>
    <ul>
      <li>
        <a href="#p0">توضیحات و کاربرد ها</a>
      </li>
      <li>
        <a href="#p1">بررسی ویژگی ها</a>
      </li>

      <li>
        <a href="#p2">خلاصه</a>
      </li>
    </ul>
  </nav>

  <section id="p0">
    <h2>توضیحات و کاربردها</h2>

    <blockquote>
      دیتا کلاس (Data Class) ها توسط کاتلین به صورت نیتیو پشتیبانی میشن و برای
      ذخیره و استفاده از داده ها طی زمان اجرای برنامه مورد استفاده قرار میگیرن.
    </blockquote>

    <p>
      یکی از نیاز های برنامه، ذخیره ی داده ها و استفاده از آنها طی زمان اجرای
      برنامه است.
    </p>

    <p>
      وقتی داده ها رو از پایگاه داده میگیریم باید محلی برای ذخیره‌سازی و نگهداری
      اونا داشته باشیم یا برعکس وقتی بخوایم داده ای رو در پایگاه داده ‌ذخیره
      کنیم باید از جایی اونا رو بگیریم و به صورت تکی ‌ذخیره کنیم.
    </p>

    <p>
      معمولا برای این کار برنامه نویس ها کلاس طراحی میکنن که این کلاس ها وظیفه ی
      نگهداری داده ها رو به عهده داره؛ کاتلین اومده این موضوع کاربردی رو به صورت
      نیتیو پیاده‌سازی کرده.
    </p>

    <p>
      اگه بخوایم صحبت از طراحی کلاس معمولی برای ذخیره ی داده ها کنیم؛ این امر
      کاملا ممکنه اما کاتلین با نیتیو کردن کلاس های دیتا سعی در بهینه کردن
      برنامه و سریع تر شدن سرعت کد نویسی رو داشته.
    </p>

    <p>
      یکی از کاربرد های مهم دیتا کلاس ها ایفا کردن نقش مدل در طراحی الگو است؛ در
      طراحی الگو های MVC، MVP، MVVM و ... از این کلاس ها به عنوان کلاس مدل
      میتونیم استفاده کنیم.
    </p>

    <p>فرم کلی دیتا کلاس ها به صورت زیر است:</p>

    <div class="sample">
      <div class="snippet-container">
        <pre class="snippet Kotlin">
data class ClassName(val t0: T0, val t1: T1, ... , val tn: Tn){
    ...
}
                        </pre
        >
      </div>
    </div>

    <div class="note">
      <p class="note-head">توجه</p>
      <p>
        هنگامی که از نقش کلاس های داده برای ذخیره ی اطلاعات صحبت می کنیم منظور
        طی زمان اجرای برنامه و بر روی حافظه ی موقت یعنی RAM است و تا زمانی که
        برنامه در حال اجراست این کلاس ها داده ها رو در خودشون میتونن نگه دارن و
        بعد از بسته شدن برنامه از بین میرن.
      </p>
    </div>
  </section>

  <section id="p1">
    <h2>بررسی ویژگی ها</h2>

    <p>
      همینطور که گفتیم کاتلین به صورت نیتیو برای ذخیره، نگهداری و استفاده از
      داده ها در زمان اجرای برنامه از دیتا کلاس پشتیبانی می کنه.
    </p>

    <p>
      در ادامه به بررسی ویژگی های این
      <a class="text-decoration-none" href="objects-and-classes.html"
        >کلاس ها</a
      >
      می پردازیم.
    </p>

    <section>
      <h3>لزوم تعریف حداقل یک پراپرتی در کانستراکتور اولیه</h3>

      <p>
        هنگام تعریف دیتا کلاس تمام پارامتر های کانستراکتور اولیه باید به صورت
        پراپرتی تعریف بشن و حداقل باید یک پراپرتی در
        <a class="text-decoration-none" href="objects-and-classes.html#p2"
          >کانستراکتور</a
        >
        اولیه تعریف کنیم.
      </p>

      <div class="sample">
        <div class="snippet-container">
          <pre class="snippet Kotlin">
data class Contact(val name: String){
    ...
}
                        </pre
          >
        </div>
      </div>
    </section>

    <section>
      <h3>تابع equals در دیتا کلاس</h3>
      <p>
        اگر تمام پراپرتی های کانستراکتور اولیه دو دیتا کلاس باهم برابر باشن دو
        کلاس باهم برابرند:
      </p>

      <div class="sample">
        <div class="snippet-container">
          <pre class="snippet Kotlin">
fun main(){
    val c0 = Contact("Fredrick" , 332144141)
    var c1 = Contact("Fredrick", 332144141)
    val c2 = Contact("Fredrick", 442321345)

    println("Are c0 and c1 equals? ${c0 == c1)")
    println("Are c0 and c2 equals? ${c2 == c0}")
    println("What about c1 and c0? ${c1 == c0}")
}

data class Contact(val name: String, val phone: Long)
                        </pre
          >
        </div>
      </div>
    </section>

    <section>
      <h3>تابع hashCode</h3>

      <p>
        تابع hashCode در دیتا کلاس ها نیز تحت تاثیر پراپرتی های تعریف شده در
        کانستراکتور اولیه قرار داره
      </p>
    </section>

    <section>
      <h3>تابع toString</h3>

      <p>
        در دیتا کلاس ها <strong>toString</strong> به طور پیشفرض به فرم
        <strong>ClassName(t0=value0, t1=value1,..., tn=valueN)</strong> نمایش
        داده میشه؛ <strong>ClassName</strong> اسم کلاس و<strong> t0-tN</strong>
        اسم پراپرتی های تعریف شده در کانستراکتور اولیه هستند.
      </p>
    </section>

    <section>
      <h3>تابع copy</h3>
      <p>
        با تابع کپی میتونیم یک نمونه از دیتا کلاس رو به طور کامل یا در صورت نیاز
        با تغییر در بعضی از پراپرتی هاش به یک متغیر جدید کپی کنیم:
      </p>

      <div class="sample">
        <div class="snippet-container">
          <pre class="snippet Kotlin">
fun main(){

    val c0 = Contact("Fredrick" , 332144141)
    val c1 = c0.copy()
    var c2 = c0.copy(name = "Joe", phone = 13214521)

    println(c0)
    println(c1)
    println(c2)

}

data class Contact(val name: String, val phone: Long){

    //پراپرتی تعریف شده در بدنه ی کلاس
    val id = (1..INT.MAX_VALUE).random()
}
                        </pre
          >
        </div>
      </div>

      <p>
        پراپرتی های تعریف شده در <strong>بدنه ی</strong> کلاس تاثیری در ویژگی یا
        عملکرد توابع بالا ندارن.
      </p>

      <div class="note">
        <p class="note-head">توجه</p>
        <p>
          دیتا کلاس ها نمیتونن با <strong>abstract</strong> ،
          <strong>open</strong> ، <strong>sealed</strong> یا
          <strong>inner</strong> تعریف بشن!
        </p>
      </div>
    </section>
  </section>

  <section id="p2">
    <h2>خلاصه</h2>
    <ul>
      <li>
        دیتا کلاس ها توسط کاتلین برای کوتاه تر، سریع تر و بهینه تر کردن کد های
        برنامه معرفی شدن.
      </li>
      <li>
        هنگام تعریف دیتا کلاس ها حداقل باید یک پراپرتی در کانستراکتور اولیه
        تعریف کنیم.
      </li>
      <li>
        توابع toString ، hashCode و copy در دیتا کلاس ها تحت تاثیر مستقیم
        پراپرتی های تعریف شده در کانستراکتور اولیه ی کلاس هستند.
      </li>
      <li>
        با استفاده از تابع copy در دیتا کلاس ها میتونیم یک نمونه ی جدید از
        کلاسمون ایجاد کنیم و در صورت نیاز مقادیر بعضی از پراپرتی های تعریف شده
        در کانستراکتور اولیه رو تغییر بدیم.
      </li>
    </ul>
  </section>
</article>

{% capture links %}
<li>
  <a href="/post/kotlin/objects-and-classes.html">آبجکت و کلاس ها</a>
</li>

<li>
  <a href="/post/kotlin/inheritance.html">وراثت یا ارث بری</a>
</li>

<li>
  <a href="/post/kotlin/functions.html">توابع در کاتلین</a>
</li>

<li>
  <a href="https://kotlinlang.org/docs/data-classes.html"
    >مطالعه در وبسایت رسمی</a
  >
</li>
{% endcapture %} {% include article-foot.html relative_links = links %}
